(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1619:(e,t,s)=>{Promise.resolve().then(s.bind(s,7929))},7929:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),r=s(2115),i=s(5115),l=s(6247);let n=function(){let[e,t]=(0,r.useState)("services"),[s,n]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[x,o]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[g,u]=(0,r.useState)(!0),[p,b]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[j,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),[S,A]=(0,r.useState)(""),[E,_]=(0,r.useState)(null),[T,D]=(0,r.useState)(!1),[U,L]=(0,r.useState)({name:"",category:"",price:"",description:"",image:"",features:""}),[P,q]=(0,r.useState)({name:"",price:"",icon:"/images/Linear Video, Audio, Sound  Gallery.svg",partnerName:"",description:"",isAvailable:!0,imageUrl:"/images/Remove-bg.ai_1732383936587 1.png",link:""});(0,r.useEffect)(()=>{O(),J(),R(),z()},[]);let O=async()=>{try{let e=await fetch("/api/services"),t=await e.json();n(t)}catch(e){console.error("Error loading services:",e)}finally{u(!1)}},R=async()=>{try{let e=await fetch("/api/partner-services"),t=await e.json();h(t)}catch(e){console.error("Error loading partner services:",e)}},z=async()=>{try{let e=await fetch("/api/services"),t=await e.json(),s=[...new Set(t.map(e=>e.category))];d(s.map((e,t)=>({id:t,name:e,description:""})))}catch(e){console.error("Error loading categories:",e)}},J=async()=>{try{let e=await fetch("/api/orders"),t=(await e.json()).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());o(t)}catch(e){console.error("Error loading orders:",e)}},V=async e=>{e.preventDefault();try{(await fetch("/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok?(await O(),b(!1),H()):alert("Ошибка при добавлении услуги")}catch(e){console.error("Error adding service:",e),alert("Ошибка при добавлении услуги")}},G=async e=>{if(e.preventDefault(),y)try{(await fetch("/api/services?id=".concat(y.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok?(await O(),b(!1),f(null),H()):alert("Ошибка при обновлении услуги")}catch(e){console.error("Error updating service:",e),alert("Ошибка при обновлении услуги")}},B=async e=>{if(confirm("Вы уверены, что хотите удалить эту услугу?"))try{(await fetch("/api/services?id=".concat(e),{method:"DELETE"})).ok?await O():alert("Ошибка при удалении услуги")}catch(e){console.error("Error deleting service:",e),alert("Ошибка при удалении услуги")}},F=e=>{f(e),L({name:e.name,category:e.category,price:e.price,description:e.description,image:e.image,features:Array.isArray(e.features)?e.features.join(", "):""}),b(!0)},H=()=>{L({name:"",category:"",price:"",description:"",image:"",features:""})};[...new Set(s.map(e=>e.category))];let I=e=>{C(e),A(e),w(!0)},K=async e=>{if(confirm('Вы уверены, что хотите удалить категорию "'.concat(e,'"? Все услуги в этой категории будут также удалены.')))try{for(let t of s.filter(t=>t.category===e))await fetch("/api/services?id=".concat(t.id),{method:"DELETE"});await O(),await z()}catch(e){console.error("Ошибка при удалении категории:",e)}},M=async e=>{if(e.preventDefault(),S.trim())try{if(k)for(let e of s.filter(e=>e.category===k))await fetch("/api/services?id=".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,category:S})});else{let e={id:Date.now(),name:"Новая услуга в категории ".concat(S),category:S,price:"от 50 000 ₽",description:"Описание новой услуги",image:"/images/foodtech-application.png",features:["Функция 1","Функция 2","Функция 3"]};await fetch("/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}await O(),await z(),w(!1),C(null),A("")}catch(e){console.error("Ошибка при обновлении категории:",e)}},Q=async e=>{e.preventDefault();try{(await fetch("/api/partner-services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).ok&&(await R(),q({name:"",price:"",icon:"/images/Linear Video, Audio, Sound  Gallery.svg",partnerName:"",description:"",isAvailable:!0,imageUrl:"/images/Remove-bg.ai_1732383936587 1.png",link:""}),b(!1))}catch(e){console.error("Ошибка при добавлении услуги партнера:",e)}},W=async e=>{if(e.preventDefault(),j)try{(await fetch("/api/partner-services",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:j.id,...P})})).ok&&(await R(),v(null),q({name:"",price:"",icon:"/images/Linear Video, Audio, Sound  Gallery.svg",partnerName:"",description:"",isAvailable:!0,imageUrl:"/images/Remove-bg.ai_1732383936587 1.png",link:""}),b(!1))}catch(e){console.error("Ошибка при обновлении услуги партнера:",e)}},X=async e=>{if(confirm("Вы уверены, что хотите удалить эту услугу партнера?"))try{(await fetch("/api/partner-services?id=".concat(e),{method:"DELETE"})).ok&&await R()}catch(e){console.error("Ошибка при удалении услуги партнера:",e)}},Y=e=>{v(e),q({name:e.name,price:e.price,icon:e.icon,partnerName:e.partnerName,description:e.description,isAvailable:e.isAvailable,imageUrl:e.imageUrl,link:e.link}),b(!0)},Z=()=>{q({name:"",price:"",icon:"/images/Linear Video, Audio, Sound  Gallery.svg",partnerName:"",description:"",isAvailable:!0,imageUrl:"/images/Remove-bg.ai_1732383936587 1.png",link:""})},$=async(e,t)=>{try{(await fetch("/api/orders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t})})).ok?await J():alert("Ошибка при обновлении статуса заказа")}catch(e){console.error("Error updating order status:",e),alert("Ошибка при обновлении статуса заказа")}},ee=async e=>{if(confirm("Вы уверены, что хотите удалить этот заказ?"))try{(await fetch("/api/orders?id=".concat(e),{method:"DELETE"})).ok?await J():alert("Ошибка при удалении заказа")}catch(e){console.error("Error deleting order:",e),alert("Ошибка при удалении заказа")}},et=e=>{_(e),D(!0)},es=()=>{_(null),D(!1)},ea=e=>{switch(e){case"pending":return"Ожидает оплаты";case"paid":return"Оплачен";case"in_progress":return"В работе";case"completed":return"Выполнен";case"cancelled":return"Отменен";default:return e}},er=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return g?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,a.jsx)("div",{className:"text-xl",children:"Загрузка..."})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Админ панель"})}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-4 overflow-x-auto scrollbar-hide",children:[(0,a.jsx)("button",{onClick:()=>t("services"),className:"px-3 py-2 rounded-lg font-medium text-sm whitespace-nowrap flex-shrink-0 ".concat("services"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Услуги"}),(0,a.jsx)("button",{onClick:()=>t("categories"),className:"px-3 py-2 rounded-lg font-medium text-sm whitespace-nowrap flex-shrink-0 ".concat("categories"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Категории"}),(0,a.jsx)("button",{onClick:()=>t("partner-services"),className:"px-3 py-2 rounded-lg font-medium text-sm whitespace-nowrap flex-shrink-0 ".concat("partner-services"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Услуги партнеров"}),(0,a.jsx)("button",{onClick:()=>t("orders"),className:"px-3 py-2 rounded-lg font-medium text-sm whitespace-nowrap flex-shrink-0 ".concat("orders"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Заказы"})]}),"services"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Управление услугами"}),(0,a.jsx)(i.A,{onClick:()=>b(!0),className:"text-sm px-3 py-1",children:"Добавить услугу"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-x-auto scrollbar-hide",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[250px]",children:"Название"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Категория"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Цена"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Действия"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-8 h-8 rounded-lg object-cover mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.description.substring(0,30),"..."]})]})]})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-xs text-gray-900",children:e.category})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.price})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{onClick:()=>F(e),className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded text-xs",children:"Изменить"}),(0,a.jsx)("button",{onClick:()=>B(e.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-2 py-1 rounded text-xs",children:"Удалить"})]})})]},e.id))})]}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Услуг пока нет"}),(0,a.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:"Добавьте первую услугу"})]})]})]}),"categories"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Управление категориями"}),(0,a.jsx)(i.A,{onClick:()=>{C(null),A(""),w(!0)},children:"Добавить категорию"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-x-auto scrollbar-hide",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Название"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Количество услуг"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:s.filter(t=>t.category===e.name).length})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,a.jsx)("button",{onClick:()=>I(e.name),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Редактировать"}),(0,a.jsx)("button",{onClick:()=>K(e.name),className:"text-red-600 hover:text-red-900",children:"Удалить"})]})]},e.id))})]})})]}),"partner-services"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Управление услугами партнеров"}),(0,a.jsx)(i.A,{onClick:()=>b(!0),className:"text-sm px-3 py-1",children:"Добавить услугу"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-x-auto scrollbar-hide",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Название"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Партнер"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Цена"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px]",children:"Статус"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Действия"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-1 flex items-center justify-center w-6 h-6 rounded bg-primary-dark shadow-5xl mr-2",children:(0,a.jsx)("img",{src:e.icon,alt:"",className:"w-4 h-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.description.substring(0,25),"..."]})]})]})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-xs text-gray-900",children:e.partnerName})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.price})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded-full ".concat(e.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isAvailable?"Доступна":"Недоступна"})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{onClick:()=>Y(e),className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded text-xs",children:"Изменить"}),(0,a.jsx)("button",{onClick:()=>X(e.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-2 py-1 rounded text-xs",children:"Удалить"})]})})]},e.id))})]}),0===m.length&&(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Услуг партнеров пока нет"}),(0,a.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:"Добавьте первую услугу партнера"})]})]})]}),"orders"===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Управление заказами"})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-x-auto scrollbar-hide",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Клиент"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Услуга"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px]",children:"Сумма"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Статус"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:"Действия"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.customerName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.customerPhone})]}),(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-xs text-gray-900",children:e.serviceName}),e.message&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1 max-w-[100px] truncate",title:e.message,children:[e.message.substring(0,15),"..."]})]}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-xs font-medium text-gray-900",children:[e.totalPrice.toLocaleString()," ₽"]})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded-full ".concat(er(e.status)),children:ea(e.status)})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:(0,a.jsx)("div",{className:"flex space-x-1",children:(0,a.jsx)("button",{onClick:()=>et(e),className:"text-blue-600 hover:text-blue-900 text-xs bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded",title:"Детали заказа",children:"Детали"})})})]},e.id))})]}),0===x.length&&(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Заказов пока нет"}),(0,a.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:"Когда пользователи будут делать заказы, они появятся здесь"})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-5 gap-2",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Всего"}),(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:x.length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Ожидают"}),(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-600",children:x.filter(e=>"pending"===e.status).length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Оплачены"}),(0,a.jsx)("div",{className:"text-lg font-bold text-blue-600",children:x.filter(e=>"paid"===e.status).length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"В работе"}),(0,a.jsx)("div",{className:"text-lg font-bold text-orange-600",children:x.filter(e=>"in_progress"===e.status).length})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Выполнены"}),(0,a.jsx)("div",{className:"text-lg font-bold text-green-600",children:x.filter(e=>"completed"===e.status).length})]})]})]}),p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:y?"Редактировать услугу":"Добавить услугу"}),(0,a.jsxs)("form",{onSubmit:y?G:V,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Название"}),(0,a.jsx)("input",{type:"text",value:U.name,onChange:e=>L({...U,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Категория"}),(0,a.jsxs)("select",{value:U.category,onChange:e=>L({...U,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Выберите категорию"}),c.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Цена"}),(0,a.jsx)("input",{type:"text",value:U.price,onChange:e=>L({...U,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Описание"}),(0,a.jsx)("textarea",{value:U.description,onChange:e=>L({...U,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Изображение (URL)"}),(0,a.jsx)("input",{type:"text",value:U.image,onChange:e=>L({...U,image:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{b(!1),f(null),H()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Отмена"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:y?"Обновить":"Добавить"})]})]})]})})}),N&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:k?"Редактировать категорию":"Добавить категорию"}),(0,a.jsxs)("form",{onSubmit:M,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Название категории"}),(0,a.jsx)("input",{type:"text",value:S,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{w(!1),C(null),A("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Отмена"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:k?"Обновить":"Добавить"})]})]})]})})}),p&&"partner-services"===e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:j?"Редактировать услугу партнера":"Добавить услугу партнера"}),(0,a.jsxs)("form",{onSubmit:j?W:Q,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Название услуги"}),(0,a.jsx)("input",{type:"text",value:P.name,onChange:e=>q({...P,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Название партнера"}),(0,a.jsx)("input",{type:"text",value:P.partnerName,onChange:e=>q({...P,partnerName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Цена"}),(0,a.jsx)("input",{type:"text",value:P.price,onChange:e=>q({...P,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"от 50.000 ₽",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Иконка (путь к файлу)"}),(0,a.jsx)("input",{type:"text",value:P.icon,onChange:e=>q({...P,icon:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"/images/icon.svg",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Описание"}),(0,a.jsx)("textarea",{value:P.description,onChange:e=>q({...P,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL изображения партнера"}),(0,a.jsx)("input",{type:"text",value:P.imageUrl,onChange:e=>q({...P,imageUrl:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"/images/partner-logo.png",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ссылка на партнера"}),(0,a.jsx)("input",{type:"text",value:P.link,onChange:e=>q({...P,link:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://partner-website.com или /partner-page",required:!0})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:P.isAvailable,onChange:e=>q({...P,isAvailable:e.target.checked}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Доступна для заказа"})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{b(!1),v(null),Z()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Отмена"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:j?"Обновить":"Добавить"})]})]})]})})}),T&&E&&(0,a.jsx)(l.A,{open:T,onClose:es,children:(0,a.jsxs)("div",{className:"p-4 md:p-6 w-full max-w-lg mx-auto max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 md:mb-4",children:["Детали заказа #",E.id]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:gap-6 mb-4 md:mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 md:mb-3",children:"Информация о клиенте"}),(0,a.jsxs)("div",{className:"space-y-1 md:space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Имя:"}),(0,a.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-900 break-words",children:E.customerName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Email:"}),(0,a.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-900 break-words",children:E.customerEmail})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Телефон:"}),(0,a.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-900 break-words",children:E.customerPhone})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 md:mb-3",children:"Информация о заказе"}),(0,a.jsxs)("div",{className:"space-y-1 md:space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Услуга:"}),(0,a.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-900 break-words",children:E.serviceName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Сумма:"}),(0,a.jsxs)("p",{className:"text-base md:text-lg font-semibold text-gray-900",children:[E.totalPrice.toLocaleString()," ₽"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Статус:"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(er(E.status)),children:ea(E.status)})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,a.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 md:mb-3",children:"Состав заказа"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Основная услуга:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:E.serviceName})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Базовые функции:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"30 000 ₽"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Дополнительные функции:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"22 000 ₽"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Дизайн:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"50 000 ₽"})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:"Итого:"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[E.totalPrice.toLocaleString()," ₽"]})]})]})})]}),(0,a.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,a.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 md:mb-3",children:"Сообщение клиента"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-sm text-gray-700",children:E.message||"Сообщение не указано"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 md:mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 md:mb-3",children:"Даты"}),(0,a.jsxs)("div",{className:"space-y-1 md:space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Создан:"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:[new Date(E.createdAt).toLocaleDateString("ru-RU")," в ",new Date(E.createdAt).toLocaleTimeString("ru-RU")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Обновлен:"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:[new Date(E.updatedAt).toLocaleDateString("ru-RU")," в ",new Date(E.updatedAt).toLocaleTimeString("ru-RU")]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 md:mb-3",children:"Управление статусом"}),(0,a.jsxs)("div",{className:"space-y-1 md:space-y-2",children:["pending"===E.status&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)("button",{onClick:()=>{$(E.id,"paid"),es()},className:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-2 rounded text-sm w-full sm:w-auto",children:"✓ Пометить как оплаченный"}),(0,a.jsx)("button",{onClick:()=>{$(E.id,"cancelled"),es()},className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-2 rounded text-sm w-full sm:w-auto",children:"✗ Отменить заказ"})]}),"paid"===E.status&&(0,a.jsx)("button",{onClick:()=>{$(E.id,"in_progress"),es()},className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded text-sm w-full sm:w-auto",children:"Начать работу"}),"in_progress"===E.status&&(0,a.jsx)("button",{onClick:()=>{$(E.id,"completed"),es()},className:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-2 rounded text-sm w-full sm:w-auto",children:"✓ Завершить заказ"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>ee(E.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-4 py-2 rounded text-sm w-full sm:w-auto",children:"Удалить заказ"}),(0,a.jsx)("button",{onClick:es,className:"text-gray-700 bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded text-sm w-full sm:w-auto",children:"Закрыть"})]})]})})]})})}},5115:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155);s(2115);let r=(0,s(7782).tv)({base:"rounded-xl font-semibold transition-all duration-200 disabled:bg-[rgb(233,_233,_233)] disabled:shadow-lg text-center disabled:text-neutral-400 disabled:cursor-not-allowed box-border",variants:{variant:{contained:"shadow-lg",outlined:"border"},color:{primary:"",secondary:""},size:{small:"font-extrabold text-md pt-2 px-3.5 pb-2.5",medium:"font-semibold text-lg pt-3.5 px-16 pb-4 font-semibold px-10",large:""}},compoundVariants:[{variant:"contained",color:"primary",className:"bg-primary-dark text-white hover:bg-primary-dark/90"},{variant:"contained",color:"secondary",className:"bg-[rgb(111,_53,_255)] text-white hover:bg-[rgb(111,_53,_255)]/90"},{variant:"outlined",color:"primary",className:"border-primary-dark text-primary-dark hover:bg-primary-dark/10"},{variant:"outlined",color:"secondary",className:"border-[rgb(111,_53,_255)] text-[rgb(111,_53,_255)] hover:bg-[rgb(111,_53,_255)]/10"}]}),i=function(e){let{variant:t="contained",color:s="primary",size:i="medium",children:l,onClick:n,className:c,...d}=e;return(0,a.jsx)("button",{...d,className:"".concat(r({variant:t,color:s,size:i})," ").concat(c||""),onClick:n,children:l})}},6247:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155);s(2115);var r=s(5683),i=s(3478);let l=function(e){let{children:t,onClose:s,open:l}=e;return(0,a.jsx)(r.N,{mode:"wait",children:l&&(0,a.jsx)("div",{"aria-label":"dialog",children:(0,a.jsxs)("div",{className:"fixed inset-0 z-40 flex items-center",children:[(0,a.jsx)(i.P.div,{onClick:s,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-30 bg-black/60 backdrop-blur-[2px] select-none"}),(0,a.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"device-container relative z-50",children:(0,a.jsx)("div",{className:"rounded-xl bg-white shadow-4xl p-3.5",children:t})})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[782,328,441,517,358],()=>t(1619)),_N_E=e.O()}]);