(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{3050:(e,s,a)=>{Promise.resolve().then(a.bind(a,2803))},6046:(e,s,a)=>{"use strict";var r=a(6658);a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},2803:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var r=a(5155),t=a(2115),l=a(6046),n=a(5115);function c(){let e=(0,l.useSearchParams)(),s=e.get("service"),a=e.get("configured"),c=e.get("total"),[i,o]=(0,t.useState)(null),[d,m]=(0,t.useState)(!0),x=async()=>{try{let e=await fetch("/api/services"),a=(await e.json()).find(e=>e.id===parseInt(s));o(a||null)}catch(e){console.error("Error loading service:",e)}finally{m(!1)}};(0,t.useEffect)(()=>{s?x():m(!1)},[s]);let h=async()=>{try{(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Клиент",email:"client@example.com",phone:"+7 (999) 999-99-99",message:"Заинтересован в услуге: ".concat((null==i?void 0:i.name)||"Неизвестная услуга"),service:null==i?void 0:i.id})})).ok?(alert("Ваша заявка отправлена! Мы свяжемся с вами в ближайшее время."),window.location.href="/"):alert("Ошибка при отправке заявки. Попробуйте еще раз.")}catch(e){console.error("Error sending application:",e),alert("Ошибка при отправке заявки. Попробуйте еще раз.")}};return d?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-xl",children:"Загрузка..."})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"true"===a?"Заказ успешно оформлен!":"Заказ создан!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"true"===a?"Ваш заказ с настройкой функций успешно оформлен. Ниже представлен счет на оплату.":"Спасибо за ваш заказ. Мы свяжемся с вами в ближайшее время."})]}),"true"===a&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:"Счет на оплату"}),(0,r.jsxs)("div",{className:"text-left space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Услуга:"}),(0,r.jsx)("span",{className:"font-semibold",children:(null==i?void 0:i.name)||"Настройка приложения"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Базовые функции:"}),(0,r.jsx)("span",{className:"font-semibold",children:"30 000 ₽"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Дополнительные функции:"}),(0,r.jsx)("span",{className:"font-semibold",children:"22 000 ₽"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Дизайн:"}),(0,r.jsx)("span",{className:"font-semibold",children:"50 000 ₽"})]}),(0,r.jsx)("hr",{className:"my-3"}),(0,r.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,r.jsx)("span",{children:"Итого:"}),(0,r.jsx)("span",{className:"text-purple-600",children:c?"".concat(parseInt(c).toLocaleString()," ₽"):"202 000 ₽"})]})]})]}),i&&!a&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-3",children:[(0,r.jsx)("img",{src:i.image,alt:i.name,className:"w-12 h-12 rounded-lg object-cover mr-3"}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:i.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:i.category})]})]}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:i.description}),(0,r.jsx)("p",{className:"font-bold text-lg text-purple-600",children:i.price})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:"true"===a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{onClick:()=>window.location.href="/payment?service=".concat(s,"&configured=").concat(a,"&total=").concat(c),className:"w-full bg-green-600 hover:bg-green-700",children:"Оплатить сейчас"}),(0,r.jsx)(n.A,{onClick:()=>window.location.href="/",variant:"outlined",color:"secondary",className:"w-full",children:"Вернуться на главную"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{onClick:h,className:"w-full",color:"secondary",children:"Связаться с нами"}),(0,r.jsx)(n.A,{onClick:()=>window.location.href="/",variant:"outlined",color:"secondary",className:"w-full",children:"Вернуться на главную"})]})}),(0,r.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[(0,r.jsxs)("p",{children:["Номер заказа: #",Date.now().toString().slice(-6)]}),(0,r.jsxs)("p",{children:["Дата: ",new Date().toLocaleDateString("ru-RU")]})]})]})})}function i(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-xl",children:"Loading..."})}),children:(0,r.jsx)(c,{})})}},5115:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var r=a(5155);a(2115);let t=(0,a(7782).tv)({base:"rounded-xl font-semibold transition-all duration-200 disabled:bg-[rgb(233,_233,_233)] disabled:shadow-lg text-center disabled:text-neutral-400 disabled:cursor-not-allowed box-border",variants:{variant:{contained:"shadow-lg",outlined:"border"},color:{primary:"",secondary:""},size:{small:"font-extrabold text-md pt-2 px-3.5 pb-2.5",medium:"font-semibold text-lg pt-3.5 px-16 pb-4 font-semibold px-10",large:""}},compoundVariants:[{variant:"contained",color:"primary",className:"bg-primary-dark text-white hover:bg-primary-dark/90"},{variant:"contained",color:"secondary",className:"bg-[rgb(111,_53,_255)] text-white hover:bg-[rgb(111,_53,_255)]/90"},{variant:"outlined",color:"primary",className:"border-primary-dark text-primary-dark hover:bg-primary-dark/10"},{variant:"outlined",color:"secondary",className:"border-[rgb(111,_53,_255)] text-[rgb(111,_53,_255)] hover:bg-[rgb(111,_53,_255)]/10"}]}),l=function(e){let{variant:s="contained",color:a="primary",size:l="medium",children:n,onClick:c,className:i,...o}=e;return(0,r.jsx)("button",{...o,className:"".concat(t({variant:s,color:a,size:l})," ").concat(i||""),onClick:c,children:n})}}},e=>{var s=s=>e(e.s=s);e.O(0,[782,441,517,358],()=>s(3050)),_N_E=e.O()}]);